<%- include('../partials/head'); %>

<body>
    <%- include('../partials/header'); %>

    <form action="/products/edit/<%=productToEdit.id%>?_method=PUT" method="POST">
        <section class="productForm">

            <div class="input">
                <h4 id="NuevoArticulo">Editando producto: <%=productToEdit.name%></h4>
                <h6 id="ModElimArticulo">Modificar un artículo</h6>
                <h6 id="ModElimArticulo">Eliminar un artículo</h6>
            </div>

            <div class="input">
                <label for="name" class="form-label">Título </label>
                    </br>
                <input type="text" id="name" name="name" placeholder="Ej: Zapatillas Reebok" class="form-input" value="<%=productToEdit.name%>">
            </div>

            <div class="container2">
                <% productToEdit.images.forEach(element => { %>
                    <div id="imgAlt"><img src="/images/productsImg/<%=element.image_url%>" alt=""></div>
                <% }) %>
            </div> 
                  
            <div class="input">
                <label for="price" class="form-label">Precio</label>
                    </br>
                <input type="text" id="price" name="price" class="form-input" value="<%=productToEdit.price%>">
            </div>

            <div class="input">
                <label for="category" class="form-label">Categoría</label>
                    </br>
                <select id="category" name="category_id">
                    <option value="" disabled>Seleccionar categoria</option>
                    <%categorias.forEach(categoria => { %>
                    <option value="<%=categoria.id%>" <%=(categoria.id == productToEdit.category_id)? "selected" : null %>><%=categoria.category_name%> </option>
                    <% }) %> 
                </select>
            </div>

            <div class="container">
                <label for="size" class="form-label">Talle y Cantidad</label>
                    </br>
                <div class="row justify-content-around" >
                    <%talles.forEach(talle => { %>
                        <div class="col-4 text-center" >
                            <div>
                                <label> <%=talle.size_name %> </label>
                                    </br>
                                <input class= "col-6" type="checkbox" id="size" name="size" value="<%=talle.id %>"
                                <%=(talle.id == productToEdit.sizes.id)? "selected" : null %> multiple >
                            </div>
                            <input class= "w-50" for="size" type="number" name="quantity[]" value="0">
                            </div>
                    <% }) %>
                </div>
            </div>

            <div class="input">
                <label for="description" class="form-label">Descripción</label>
                    </br>
				<textarea name="description" id="description" class="form-input"><%= productToEdit.description %></textarea>
            </div>

            <div class="input">
                <label for="full_description" class="form-label">Descripción completa</label>
                    </br>
                <textarea name="full_description" rows="5" cols="10" placeholder="Descripción detalla / caracteristicas"><%= productToEdit.full_description %></textarea>
            </div>

            <div class="input">
                <label for="discount" class="form-label">Descuento</label>
                    </br>
                <input type="text" id="discount" name="discount" class="form-input" value="<%=productToEdit.discount%>"><br>
            </div>

            <div class="input">
                <label for="condition" class="form-label">Condición</label>
                    </br>
                <select id="condition" name="condition_id">
                    <option value="" disabled>Seleccionar Condicion</option>
                    <%condiciones.forEach(condicion => { %>
                    <option value="<%=condicion.id%>" <%=(condicion.id == productToEdit.condition_id)? "selected" : null %>><%=condicion.condition_name%> </option>
                    <% }) %> 
                </select>
            </div>

            <div class="input">
                <label for="status" class="form-label">Estado</label>
                    </br>
                <select id="status" name="status">
                    <option value="1" selected>Activo</option>
                    <option value="0">Inactivo</option>
                </select>
            </div>

        </section>

        <section class="productFormPie">
            <div class="botonesPie">
                <button type="submit" class="buttonEditar">Editar</button>
                <button class="buttonBorrar">Borrar</button>
            </div>
        </section>
    </form>

    

        <%- include('../partials/footer'); %>
    <script src="/js/validationEditFront.js" type="text/javascript"></script>
</body>
</html>